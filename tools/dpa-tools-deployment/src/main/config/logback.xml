<!-- SB logback.xml configuration file.

    Current copy adapted from Avisprojektet.  Write log for each invocation to a unique file name.
    (We expect deletion of old log files to be done externally)
-->
<configuration debug="false" packagingData="true">
    <timestamp key="timestamp" datePattern="yyyyMMdd'T'HHmmss.SSS"/>
    <appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender">
        <encoder>
            <pattern>%date{ISO8601} [%thread] %-5level %logger{36} - %msg%n</pattern>
        </encoder>
    </appender>
    <appender name="LOG-FILE" class="ch.qos.logback.core.FileAppender">
        <!-- app.name set by launching shell script -->
        <file>${app.name:-unknown}-${timestamp}.log</file>
        <encoder>
            <pattern>%date{ISO8601} [%thread] %-5level %logger{36} - %msg%n</pattern>
        </encoder>
    </appender>

    <logger name="dk.statsbiblioteket" level="DEBUG"/>
    <root level="INFO">
        <appender-ref ref="STDOUT"/>
        <appender-ref ref="LOG-FILE"/>
    </root>
    <logger name="org.apache.zookeeper.ZooKeeper" level="WARN"/>

</configuration>
